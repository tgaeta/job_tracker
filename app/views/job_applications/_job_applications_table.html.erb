<%= turbo_frame_tag "job_applications_table" do %>
  <div class="overflow-x-auto bg-white shadow-md rounded-lg">
    <% if @job_applications.any? %>
      <table class="min-w-full leading-normal">
        <thead class="text-xs">
          <tr>
            <tr>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                <%= sort_link_to 'Date Applied', 'date_applied' %>
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                <%= sort_link_to 'Company Name', 'company_name' %>
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                <%= sort_link_to 'Position', 'position_title' %>
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                Type
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                Contact Method
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                P.o.C.
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                Email
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                Website
              </th>
              <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left font-semibold text-gray-600 tracking-wider">
                Actions
              </th>
            </tr>
          </thead>
          <tbody id="job_applications">
            <%= render partial: 'job_application', collection: job_applications %>
          </tbody>
        </table>
      <% else %>
        <div class="text-center py-10">
          <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
          </svg>
          <p class="mt-1 text-sm text-gray-500">
            <%= "No results match your search criteria." if params[:search].present? || params[:method_of_contact].present? || params[:position_type].present? %>
          </p>
        </div>
      <% end %>
    </div>
  <% end %>
